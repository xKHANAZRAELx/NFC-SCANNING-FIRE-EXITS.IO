<!DOCTYPE html>
<html>
<head>
  <title>NFC Scan Tracker</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script>
    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDj2uosWcsHdGWm31_w_5LJ-i34IGZY_us",
      authDomain: "nfc-scan-tracker.firebaseapp.com",
      databaseURL: "https://nfc-scan-tracker-default-rtdb.firebaseio.com",
      projectId: "nfc-scan-tracker",
      storageBucket: "nfc-scan-tracker.appspot.com",
      messagingSenderId: "565206205474",
      appId: "1:565206205474:web:5959b2c68c0415a082b67b",
      measurementId: "G-TWLF5S7T40"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Function to handle NFC tag data
    function handleNFCScan(nfcData) {
      const ref = database.ref('nfc_scans');

      // Push a new NFC scan entry to Firebase
      ref.push({
        nfcData: nfcData,
        timestamp: Date.now()
      }).then(() => {
        console.log('NFC scan recorded.');
      }).catch(error => {
        console.error('Error recording NFC scan:', error);
      });
    }

    // Function to listen for new scans and update the UI
    function displayScans() {
      const ref = database.ref('nfc_scans');
      ref.on('child_added', function(snapshot) {
        const data = snapshot.val();
        const element = document.createElement('div');
        element.innerText = `Scanned NFC Tag: ${data.nfcData}, Timestamp: ${new Date(data.timestamp).toLocaleString()}`;
        document.getElementById('scan-results').appendChild(element);
      });
    }

    // Simulate NFC scan (replace with actual NFC reading logic)
    setTimeout(() => {
      handleNFCScan('Example NFC Tag Data');
    }, 2000); // Simulate a 2-second delay

    // Start displaying scans once the DOM is fully loaded
    document.addEventListener('DOMContentLoaded', displayScans);
  </script>
</head>
<body>
  <h1>NFC Scan Tracker</h1>
  <div id="scan-results">
    <!-- Scanned data will appear here -->
  </div>
</body>
</html>
